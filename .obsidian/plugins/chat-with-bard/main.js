/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);
var __accessCheck = (obj, member, msg) => {
  if (!member.has(obj))
    throw TypeError("Cannot " + msg);
};
var __privateGet = (obj, member, getter) => {
  __accessCheck(obj, member, "read from private field");
  return getter ? getter.call(obj) : member.get(obj);
};
var __privateAdd = (obj, member, value) => {
  if (member.has(obj))
    throw TypeError("Cannot add the same private member more than once");
  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);
};
var __privateSet = (obj, member, value, setter) => {
  __accessCheck(obj, member, "write to private field");
  setter ? setter.call(obj, value) : member.set(obj, value);
  return value;
};

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => BardPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian4 = require("obsidian");

// components/ChatModal.ts
var import_obsidian3 = require("obsidian");

// components/BardConnection.ts
var import_obsidian = require("obsidian");
var querystring = __toESM(require("querystring"));
var _bard_token, _bard_token_2, _bard_tokne_3, _reqid, _snim0e, _conversationID, _responseID, _choiceId, _fSid, _bl;
var _Bard = class {
  constructor(bard_token, bard_token_2, bard_token_3) {
    __privateAdd(this, _bard_token, void 0);
    __privateAdd(this, _bard_token_2, void 0);
    //__Secure-1PSIDCC
    __privateAdd(this, _bard_tokne_3, void 0);
    //__Secure-1PSIDTS
    __privateAdd(this, _reqid, void 0);
    __privateAdd(this, _snim0e, void 0);
    __privateAdd(this, _conversationID, void 0);
    __privateAdd(this, _responseID, void 0);
    __privateAdd(this, _choiceId, void 0);
    __privateAdd(this, _fSid, void 0);
    __privateAdd(this, _bl, void 0);
    __privateSet(this, _bard_token, bard_token);
    __privateSet(this, _bard_token_2, bard_token_2);
    __privateSet(this, _bard_tokne_3, bard_token_3);
    __privateSet(this, _reqid, Math.round(Math.random() * 9999));
    __privateSet(this, _conversationID, "");
    __privateSet(this, _responseID, "");
    __privateSet(this, _choiceId, "");
  }
  async deleteConversation(conversationID) {
    const input_text_struct = [
      [["GzXR5e", `["${conversationID}", 10]`, null, "generic"]]
    ];
    const data = {
      "f.req": JSON.stringify(input_text_struct),
      "at": __privateGet(this, _snim0e)
    };
    await this.makeRequest("post", "https://bard.google.com/_/BardChatUi/data/batchexecute?", "GzXR5e", data, "/chat");
  }
  async getConversation(conversationID) {
    const input_text_struct = [
      [["hNvQHb", `["${conversationID}", 10]`, null, "generic"]]
    ];
    const data = {
      "f.req": JSON.stringify(input_text_struct),
      "at": __privateGet(this, _snim0e)
    };
    let jsons = await this.makeRequest("post", "https://bard.google.com/_/BardChatUi/data/batchexecute?", "hNvQHb", data, "/chat/" + conversationID);
    var result = new Array();
    jsons[0].forEach((element) => {
      let userMessage = element[2][0][0];
      let botResponse = "Bot response";
      let responseId = "";
      let choiceId = "";
      for (let index = 0; index < element[3][0].length; index++) {
        if (element[3][0][index][0] == element[3][3]) {
          botResponse = element[3][0][index][1][0];
          choiceId = element[3][3];
        }
      }
      responseId = element[0][1];
      result.unshift({ "UserMessage": userMessage, "BotResponse": botResponse, "responseID": responseId, "choiceId": choiceId });
    });
    return result;
  }
  async getConversations() {
    const input_text_struct = [
      [["MaZiqc", "[13,null,[0]]", null, "generic"]]
    ];
    const data = {
      "f.req": JSON.stringify(input_text_struct),
      "at": __privateGet(this, _snim0e)
    };
    let jsons = await this.makeRequest("post", "https://bard.google.com/_/BardChatUi/data/batchexecute?", "MaZiqc", data, "/chat");
    return jsons[0];
  }
  async getResponse(query) {
    const input_text_struct = [
      [query, 0, null, [], null, null, 0],
      null,
      [__privateGet(this, _conversationID), __privateGet(this, _responseID), __privateGet(this, _choiceId)]
      /*, null, null, []],
      null, null, null, [1], 0, [], [], 1, 0,*/
    ];
    const data = {
      "f.req": JSON.stringify([null, JSON.stringify(input_text_struct)]),
      "at": __privateGet(this, _snim0e)
    };
    let jsons = await this.makeRequest("post", "https://bard.google.com/_/BardChatUi/data/assistant.lamda.BardFrontendService/StreamGenerate?", "", data, "");
    __privateSet(this, _conversationID, jsons[1][0]);
    __privateSet(this, _responseID, jsons[1][1]);
    __privateSet(this, _choiceId, jsons[4][0][0]);
    return jsons[4][0][1][0];
  }
  async makeRequest(method, url, rpcids, data, path) {
    let params = {
      "_reqid": __privateGet(this, _reqid),
      "bl": __privateGet(this, _bl),
      "f.sid": __privateGet(this, _fSid),
      "source-path": path,
      "rt": "c",
      "rpcids": rpcids
    };
    const requestParams = {
      url: url + querystring.stringify(params),
      method,
      throw: true,
      body: new URLSearchParams(data).toString(),
      contentType: "application/x-www-form-urlencoded;charset=UTF-8",
      headers: {
        "Cookie": this.getCookies()
      }
    };
    let resp = await (0, import_obsidian.request)(requestParams);
    __privateSet(this, _reqid, __privateGet(this, _reqid) + 1e5);
    let lines = resp.split("\n").filter((line) => line.startsWith('[["wrb.fr'));
    return lines.map((line) => JSON.parse(JSON.parse(line)[0][2]))[0];
  }
  getCookies() {
    let cookies = `__Secure-1PSID=${__privateGet(this, _bard_token)}`;
    if (__privateGet(this, _bard_token_2) != void 0 && __privateGet(this, _bard_token_2) != "") {
      cookies += `;__Secure-1PSIDCC=${__privateGet(this, _bard_token_2)}`;
    }
    if (__privateGet(this, _bard_tokne_3) != void 0 && __privateGet(this, _bard_tokne_3) != "") {
      cookies += `;__Secure-1PSIDTS=${__privateGet(this, _bard_tokne_3)}`;
    }
    return cookies;
  }
  async getAuthentication() {
    var _a, _b, _c;
    if (__privateGet(this, _bard_token) == null || __privateGet(this, _bard_token).charAt(__privateGet(this, _bard_token).length - 1) != ".") {
      throw new Error("__Secure-Ps1d token is either missing or incomplete");
    }
    let resp = await (0, import_obsidian.request)({
      method: "get",
      url: "https://bard.google.com/",
      headers: {
        "Cookie": this.getCookies()
      }
    });
    var regex = /"SNlM0e":"(.*?)"/;
    const sn1m0e = (_a = resp.match(regex)) == null ? void 0 : _a[1];
    regex = /"FdrFJe":"(.*?)"/;
    const fsid = (_b = resp.match(regex)) == null ? void 0 : _b[1];
    regex = /"cfb2h":"(.*?)"/;
    const bl = (_c = resp.match(regex)) == null ? void 0 : _c[1];
    if (sn1m0e == null) {
      throw new Error("Unable to get the snim0e token");
    } else if (fsid == null) {
      throw new Error("Unable to get the f.sid token");
    } else if (bl == null) {
      throw new Error("Unable to get the bl token");
    } else {
      __privateSet(this, _snim0e, sn1m0e);
      __privateSet(this, _fSid, fsid);
      __privateSet(this, _bl, bl);
    }
  }
  static async getBard(bard_token, bard_token_2, bard_token_3) {
    let bard = new _Bard(bard_token, bard_token_2, bard_token_3);
    try {
      await bard.getAuthentication();
      return bard;
    } catch (error) {
      console.error(error);
      new import_obsidian.Notice(error);
    }
  }
  setConversationId(conversationID) {
    __privateSet(this, _conversationID, conversationID);
  }
  setResponseId(responseID) {
    __privateSet(this, _responseID, responseID);
  }
  setChoiceId(choiceID) {
    __privateSet(this, _choiceId, choiceID);
  }
};
var Bard = _Bard;
_bard_token = new WeakMap();
_bard_token_2 = new WeakMap();
_bard_tokne_3 = new WeakMap();
_reqid = new WeakMap();
_snim0e = new WeakMap();
_conversationID = new WeakMap();
_responseID = new WeakMap();
_choiceId = new WeakMap();
_fSid = new WeakMap();
_bl = new WeakMap();

// components/DebugBard.ts
var import_obsidian2 = require("obsidian");
var querystring2 = __toESM(require("querystring"));
var _bard_token2, _bard_token_22, _bard_tokne_32, _reqid2, _snim0e2, _conversationID2, _responseID2, _choiceId2, _fSid2, _bl2;
var _DebugBard = class extends Bard {
  constructor(bard_token, bard_token_2, bard_token_3) {
    super(bard_token, bard_token_2, bard_token_3);
    __privateAdd(this, _bard_token2, void 0);
    __privateAdd(this, _bard_token_22, void 0);
    //__Secure-1PSIDCC
    __privateAdd(this, _bard_tokne_32, void 0);
    //__Secure-1PSIDTS
    __privateAdd(this, _reqid2, void 0);
    __privateAdd(this, _snim0e2, void 0);
    __privateAdd(this, _conversationID2, void 0);
    __privateAdd(this, _responseID2, void 0);
    __privateAdd(this, _choiceId2, void 0);
    __privateAdd(this, _fSid2, void 0);
    __privateAdd(this, _bl2, void 0);
    __privateSet(this, _bard_token2, bard_token);
    __privateSet(this, _bard_token_22, bard_token_2);
    __privateSet(this, _bard_tokne_32, bard_token_3);
    __privateSet(this, _reqid2, Math.round(Math.random() * 9999));
    __privateSet(this, _conversationID2, "");
    __privateSet(this, _responseID2, "");
    __privateSet(this, _choiceId2, "");
  }
  async deleteConversation(conversationID) {
    console.log("DEBUG BARD: Deleting conversation " + conversationID);
  }
  async getConversation(conversationID) {
    let result = [
      {
        "UserMessage": "Please remember the code word lavender",
        "BotResponse": 'I will remember the code word "lavender."',
        "responseID": "r_7fd58f4c34784641",
        "choiceId": "rc_1de3369c0219bdf3"
      },
      {
        "UserMessage": "what is the code word?",
        "BotResponse": 'The code word is "lavender."',
        "responseID": "r_4f9d38a217087817",
        "choiceId": "rc_361bc099016b4525"
      }
    ];
    return result;
  }
  async getConversations() {
    let jsons = [[
      ["c_e079d823ac905a97", "Forterro | abas: ERP Software for Mid-Sized Manufacturing", false, false, "", [1699453998, 750035e3]],
      ["c_9fe162a28ea02c64", 'Remembering code word "lavender"', false, false, "", [1699356005, 15547e3]],
      ["c_43a86bec0da1ee00", "Code word table request", false, false, "", [1699355935, 93132e3]],
      ["c_83efa0bb126b621c", "Remember code word", false, false, "", [1699355894, 787354e3]],
      ["c_e466dfc9cf1ffe23", "Remembering code words", false, false, "", [1699355562, 86529e3]],
      ["c_7bd5c81834a618e5", 'Introducing the code word "char"', false, false, "", [1699355388, 906106e3]],
      ["c_c4be49b893dff725", "Assistant Is Working", false, false, "", [1699354436, 878028e3]],
      ["c_0bb40a99b570e07d", "Remember code word", false, false, "", [1699354419, 578969e3]],
      ["c_7815b5d52918ecff", 'Remembering the word "rose"', false, false, "", [1699354295, 549268e3]],
      ["c_dee3dbc77a070d31", "Assistant ready to assist", false, false, "", [1699351414, 504864e3]],
      ["c_29a9a2d67fef675e", 'Remembering the code word "tulip"', false, false, "", [1699346862, 940578e3]],
      ["c_466fd4891b989e4e", "Greeting", false, false, "", [1699306111, 95254e3]]
    ], "tCqkBAblK0n83Blerc2Z2zIPwT+RH5VXXEUJ8c5Is+5l+Bw0/m\u2026dErKkyliAliaco7s7VgO7nDARfvmGg943JyQfHzycfKWVJQ=="];
    return jsons[0];
  }
  async getResponse(query) {
    console.log('DEBUG BARD: Responding to "' + query + '"');
    return "DEBUG RESPONSE";
  }
  async makeRequest(method, url, rpcids, data, path) {
    let params = {
      "_reqid": __privateGet(this, _reqid2),
      "bl": __privateGet(this, _bl2),
      "f.sid": __privateGet(this, _fSid2),
      "source-path": path,
      "rt": "c",
      "rpcids": rpcids
    };
    const requestParams = {
      url: url + querystring2.stringify(params),
      method,
      throw: true,
      body: new URLSearchParams(data).toString(),
      contentType: "application/x-www-form-urlencoded;charset=UTF-8",
      headers: {
        "Cookie": this.getCookies()
      }
    };
    let resp = await (0, import_obsidian2.request)(requestParams);
    __privateSet(this, _reqid2, __privateGet(this, _reqid2) + 1e5);
    let lines = resp.split("\n").filter((line) => line.startsWith('[["wrb.fr'));
    console.log(lines.map((line) => JSON.parse(JSON.parse(line)[0][2]))[0]);
    return lines.map((line) => JSON.parse(JSON.parse(line)[0][2]))[0];
  }
  getCookies() {
    let cookies = `__Secure-1PSID=${__privateGet(this, _bard_token2)}`;
    if (__privateGet(this, _bard_token_22) != void 0 && __privateGet(this, _bard_token_22) != "") {
      cookies += `;__Secure-1PSIDCC=${__privateGet(this, _bard_token_22)}`;
    }
    if (__privateGet(this, _bard_tokne_32) != void 0 && __privateGet(this, _bard_tokne_32) != "") {
      cookies += `;__Secure-1PSIDTS=${__privateGet(this, _bard_tokne_32)}`;
    }
    return cookies;
  }
  async getAuthentication() {
    var _a, _b, _c;
    if (__privateGet(this, _bard_token2) == null || __privateGet(this, _bard_token2).charAt(__privateGet(this, _bard_token2).length - 1) != ".") {
      throw new Error("__Secure-Ps1d token is either missing or incomplete");
    }
    let resp = await (0, import_obsidian2.request)({
      method: "get",
      url: "https://bard.google.com/",
      headers: {
        "Cookie": this.getCookies()
      }
    });
    var regex = /"SNlM0e":"(.*?)"/;
    const sn1m0e = (_a = resp.match(regex)) == null ? void 0 : _a[1];
    regex = /"FdrFJe":"(.*?)"/;
    const fsid = (_b = resp.match(regex)) == null ? void 0 : _b[1];
    regex = /"cfb2h":"(.*?)"/;
    const bl = (_c = resp.match(regex)) == null ? void 0 : _c[1];
    if (sn1m0e == null) {
      throw new Error("Unable to get the snim0e token");
    } else if (fsid == null) {
      throw new Error("Unable to get the f.sid token");
    } else if (bl == null) {
      throw new Error("Unable to get the bl token");
    } else {
      __privateSet(this, _snim0e2, sn1m0e);
      __privateSet(this, _fSid2, fsid);
      __privateSet(this, _bl2, bl);
    }
  }
  static async getBard(bard_token, bard_token_2, bard_token_3) {
    let bard = new _DebugBard(bard_token, bard_token_2, bard_token_3);
    return bard;
  }
  setConversationId(conversationID) {
    __privateSet(this, _conversationID2, conversationID);
  }
  setResponseId(responseID) {
    __privateSet(this, _responseID2, responseID);
  }
  setChoiceId(choiceID) {
    __privateSet(this, _choiceId2, choiceID);
  }
};
var DebugBard = _DebugBard;
_bard_token2 = new WeakMap();
_bard_token_22 = new WeakMap();
_bard_tokne_32 = new WeakMap();
_reqid2 = new WeakMap();
_snim0e2 = new WeakMap();
_conversationID2 = new WeakMap();
_responseID2 = new WeakMap();
_choiceId2 = new WeakMap();
_fSid2 = new WeakMap();
_bl2 = new WeakMap();

// components/ChatModal.ts
var _plugin, _chatMessages, _userInput, _Bard2, _Chat, _Conversations;
var ChatModal = class extends import_obsidian3.Modal {
  constructor(app, plugin) {
    super(app);
    __privateAdd(this, _plugin, void 0);
    __privateAdd(this, _chatMessages, void 0);
    __privateAdd(this, _userInput, void 0);
    __privateAdd(this, _Bard2, void 0);
    __privateAdd(this, _Chat, void 0);
    __privateAdd(this, _Conversations, void 0);
    __privateSet(this, _plugin, plugin);
    if (!__privateGet(this, _plugin).settings.DeveloperMode) {
      Bard.getBard(plugin.settings.Bard_Token, plugin.settings.Bard_Token_2, plugin.settings.Bard_Token_3).then((result) => {
        if (result) {
          __privateSet(this, _Bard2, result);
        } else {
          new import_obsidian3.Notice("Something went wrong when trying to create a Bard connection");
        }
      });
    } else {
      console.log("BARD running in Dev mode");
      DebugBard.getBard(plugin.settings.Bard_Token, plugin.settings.Bard_Token_2, plugin.settings.Bard_Token_3).then((value) => __privateSet(this, _Bard2, value));
    }
  }
  onOpen() {
    let { contentEl } = this;
    contentEl.createEl("h3", { text: "Chat with Bart AI" });
    let root = contentEl.createDiv("chat-modal-content");
    __privateSet(this, _Chat, root.createEl("div", { cls: "chat-interface panel" }));
    __privateSet(this, _chatMessages, __privateGet(this, _Chat).createDiv("chat-messages"));
    const conversationsButton = __privateGet(this, _Chat).createEl("button", {
      text: "Conversations",
      cls: "conversation-button"
    });
    let chatInput = __privateGet(this, _Chat).createDiv("chat-input");
    __privateSet(this, _userInput, chatInput.createEl("input", { type: "text", placeholder: "Type your message..." }));
    chatInput.createEl("button", {
      text: "Send"
    }).onClickEvent(() => {
      this.sendMessage();
    });
    __privateGet(this, _userInput).addEventListener("keydown", (event) => {
      if (event.key === "Enter") {
        this.sendMessage();
        event.preventDefault();
      }
    });
    __privateSet(this, _Conversations, root.createDiv({
      cls: "conversation-list panel hidden"
      // Initially hidden
    }));
    conversationsButton.onClickEvent(() => {
      this.showConversations();
      this.loadConversations();
    });
  }
  showConversations() {
    __privateGet(this, _Chat).classList.add("fadeout");
    __privateGet(this, _Conversations).classList.add("fadein");
    __privateGet(this, _Chat).style.pointerEvents = "none";
    __privateGet(this, _Conversations).style.pointerEvents = "none";
    __privateGet(this, _Chat).toggleClass("hidden", false);
    __privateGet(this, _Conversations).toggleClass("hidden", false);
    __privateGet(this, _Conversations).style.overflowY = "auto";
    __privateGet(this, _Chat).addEventListener("animationend", () => {
      __privateGet(this, _Conversations).style.pointerEvents = "auto";
      __privateGet(this, _Chat).style.pointerEvents = "none";
      __privateGet(this, _Conversations).removeClass("fadein");
      __privateGet(this, _Chat).removeClass("fadeout");
      __privateGet(this, _Conversations).toggleClass("hidden", false);
      __privateGet(this, _Chat).toggleClass("hidden", true);
    }, { once: true });
  }
  showChat() {
    __privateGet(this, _Chat).addClass("fadein");
    __privateGet(this, _Conversations).addClass("fadeout");
    __privateGet(this, _Chat).style.pointerEvents = "none";
    __privateGet(this, _Conversations).style.pointerEvents = "none";
    __privateGet(this, _Chat).toggleClass("hidden", false);
    __privateGet(this, _Conversations).toggleClass("hidden", false);
    __privateGet(this, _Conversations).style.overflowY = "hidden";
    __privateGet(this, _Conversations).addEventListener("animationend", () => {
      __privateGet(this, _Chat).style.pointerEvents = "auto";
      __privateGet(this, _Conversations).style.pointerEvents = "none";
      __privateGet(this, _Conversations).removeClass("fadeout");
      __privateGet(this, _Chat).removeClass("fadein");
      __privateGet(this, _Conversations).toggleClass("hidden", true);
      __privateGet(this, _Chat).toggleClass("hidden", false);
    }, { once: true });
  }
  clearChat() {
    while (__privateGet(this, _chatMessages).lastChild) {
      __privateGet(this, _chatMessages).lastChild.remove();
    }
    __privateGet(this, _Bard2).setConversationId(null);
    __privateGet(this, _Bard2).setResponseId(null);
    __privateGet(this, _Bard2).setChoiceId(null);
  }
  switchToConversation(conversationId) {
    this.clearChat();
    __privateGet(this, _Bard2).setConversationId(conversationId);
    __privateGet(this, _Bard2).getConversation(conversationId).then((result) => {
      result.forEach((element) => {
        this.displayMessage(element["UserMessage"], true);
        this.displayMessage(element["BotResponse"], false);
      });
      __privateGet(this, _Bard2).setResponseId(result[result.length - 1]["responseID"]);
      __privateGet(this, _Bard2).setChoiceId(result[result.length - 1]["choiceId"]);
    });
  }
  loadConversations() {
    if (!__privateGet(this, _Bard2)) {
      new import_obsidian3.Notice("Bard not ready");
      return;
    }
    while (__privateGet(this, _Conversations).lastChild) {
      __privateGet(this, _Conversations).lastChild.remove();
    }
    __privateGet(this, _Bard2).getConversations().then((result) => {
      const newChatButton = __privateGet(this, _Conversations).createEl("div", {
        cls: "newChatButton",
        text: "New Chat"
      });
      newChatButton.onClickEvent((event) => {
        event.stopPropagation();
        this.showChat();
        this.clearChat();
      });
      result.forEach((conversation) => {
        const listItem = __privateGet(this, _Conversations).createEl("div", {
          cls: "conversation-list-item"
        });
        const label = listItem.createEl("span", {
          text: conversation[1]
        });
        const deleteButton = listItem.createEl("button", {
          text: "Delete",
          cls: "delete-button"
          // Add the 'conversation-button' class for styling
        });
        deleteButton.style.display = "none";
        deleteButton.onClickEvent((event) => {
          var _a;
          event.stopPropagation();
          (_a = deleteButton.parentElement) == null ? void 0 : _a.remove();
          __privateGet(this, _Bard2).deleteConversation(conversation[0]);
        });
        listItem.dataset.conversationId = conversation[0];
        listItem.onmouseenter = () => deleteButton.style.display = "block";
        listItem.onmouseleave = () => deleteButton.style.display = "none";
        listItem.onClickEvent(() => {
          if (listItem.dataset.conversationId != void 0) {
            this.switchToConversation(listItem.dataset.conversationId);
            this.showChat();
          }
        });
      });
    });
  }
  sendMessage() {
    let userMessage = __privateGet(this, _userInput).value;
    if (userMessage == null || userMessage == "")
      return;
    this.displayMessage(userMessage, true);
    __privateGet(this, _userInput).value = "";
    const botResponseDiv = __privateGet(this, _chatMessages).createEl("div", { cls: "message bot-message" });
    botResponseDiv.append(this.typingAnimation());
    __privateGet(this, _Bard2).getResponse(userMessage).then((response) => {
      botResponseDiv.remove();
      this.displayMessage(response, false);
    });
  }
  displayMessage(text, isUser) {
    let cls = "bot-message";
    if (isUser) {
      cls = "user-message";
    }
    const messageDiv = __privateGet(this, _chatMessages).createEl("div", { cls: "message " + cls });
    import_obsidian3.MarkdownRenderer.render(this.app, text, messageDiv, "", __privateGet(this, _plugin));
    messageDiv.scrollIntoView({ behavior: "smooth" });
  }
  typingAnimation() {
    const typingAnim = createDiv({ cls: "typing-indicator" });
    typingAnim.appendChild(createSpan());
    typingAnim.appendChild(createSpan());
    typingAnim.appendChild(createSpan());
    return typingAnim;
  }
  onClose() {
    let { contentEl } = this;
    contentEl.empty();
  }
};
_plugin = new WeakMap();
_chatMessages = new WeakMap();
_userInput = new WeakMap();
_Bard2 = new WeakMap();
_Chat = new WeakMap();
_Conversations = new WeakMap();

// main.ts
var DEFAULT_SETTINGS = {
  Bard_Token: "",
  Bard_Token_2: "",
  Bard_Token_3: "",
  DeveloperMode: false
};
var BardPlugin = class extends import_obsidian4.Plugin {
  async onload() {
    await this.loadSettings();
    this.addSettingTab(new SettingsTab(this.app, this));
    this.addCommand({
      id: "open-chat",
      name: "Chat with Bard",
      callback: () => {
        new ChatModal(this.app, this).open();
      }
    });
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
var SettingsTab = class extends import_obsidian4.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian4.Setting(containerEl).setName("__Secure-1PSID").setDesc("Enter your __Secure-1PSID token here").addText((text) => text.setPlaceholder("Your token here").setValue(this.plugin.settings.Bard_Token).onChange(async (value) => {
      this.plugin.settings.Bard_Token = value;
      await this.plugin.saveSettings();
    }));
    let optionalTokensHeader = containerEl.createEl("p", { text: "Enter these cookie values if the __Secure-1PSID token does not work" });
    new import_obsidian4.Setting(optionalTokensHeader).setName("__Secure-1PSIDCC").addText((text) => text.setPlaceholder("Your token here").setValue(this.plugin.settings.Bard_Token_2).onChange(async (value) => {
      this.plugin.settings.Bard_Token_2 = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian4.Setting(optionalTokensHeader).setName("__Secure-1PSIDTS").addText((text) => text.setPlaceholder("Your token here").setValue(this.plugin.settings.Bard_Token_3).onChange(async (value) => {
      this.plugin.settings.Bard_Token_3 = value;
      await this.plugin.saveSettings();
    }));
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJjb21wb25lbnRzL0NoYXRNb2RhbC50cyIsICJjb21wb25lbnRzL0JhcmRDb25uZWN0aW9uLnRzIiwgImNvbXBvbmVudHMvRGVidWdCYXJkLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQgeyBBcHAsIEVkaXRvciwgTWFya2Rvd25WaWV3LCBNb2RhbCwgTm90aWNlLCBQbHVnaW4sIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcgfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCB7IENoYXRNb2RhbCB9IGZyb20gXCJjb21wb25lbnRzL0NoYXRNb2RhbFwiO1xyXG5pbXBvcnQgeyBCYXJkIH0gZnJvbSAnY29tcG9uZW50cy9CYXJkQ29ubmVjdGlvbic7XHJcblxyXG5pbnRlcmZhY2UgVGFsa1RvQmFyZFNldHRpbmdzIHtcclxuXHRCYXJkX1Rva2VuOiBzdHJpbmc7XHJcblx0QmFyZF9Ub2tlbl8yOiBzdHJpbmc7XHJcblx0QmFyZF9Ub2tlbl8zOiBzdHJpbmc7XHJcblx0RGV2ZWxvcGVyTW9kZTogYm9vbGVhbjtcclxufVxyXG5cclxuY29uc3QgREVGQVVMVF9TRVRUSU5HUzogVGFsa1RvQmFyZFNldHRpbmdzID0ge1xyXG5cdEJhcmRfVG9rZW46ICcnLFxyXG5cdEJhcmRfVG9rZW5fMjogXCJcIixcclxuXHRCYXJkX1Rva2VuXzM6IFwiXCIsXHJcblx0RGV2ZWxvcGVyTW9kZTogZmFsc2VcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFyZFBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XHJcblx0c2V0dGluZ3M6IFRhbGtUb0JhcmRTZXR0aW5ncztcclxuXHJcblx0YXN5bmMgb25sb2FkKCkge1xyXG5cdFx0YXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcclxuXHJcblx0XHR0aGlzLmFkZFNldHRpbmdUYWIobmV3IFNldHRpbmdzVGFiKHRoaXMuYXBwLCB0aGlzKSk7XHJcblxyXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcclxuXHRcdFx0aWQ6IFwib3Blbi1jaGF0XCIsXHJcblx0XHRcdG5hbWU6IFwiQ2hhdCB3aXRoIEJhcmRcIixcclxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcclxuXHRcdFx0XHRuZXcgQ2hhdE1vZGFsKHRoaXMuYXBwLCB0aGlzKS5vcGVuKCk7XHJcblx0XHRcdH1cclxuXHRcdH0pXHJcblx0XHQvKnRoaXMuYWRkQ29tbWFuZCh7XHJcblx0XHRcdGlkOiBcImRlYnVnXCIsXHJcblx0XHRcdG5hbWU6IFwiVGVzdHR0dHRcIixcclxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcclxuXHRcdFx0XHRCYXJkLmdldEJhcmQodGhpcy5zZXR0aW5ncy5CYXJkX1Rva2VuLCB0aGlzLnNldHRpbmdzLkJhcmRfVG9rZW5fMiwgdGhpcy5zZXR0aW5ncy5CYXJkX1Rva2VuXzMpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG5cdFx0XHRcdFx0cmVzdWx0Py5nZXRDb252ZXJzYXRpb24oXCJjXzc4MTViNWQ1MjkxOGVjZmZcIikudGhlbihyZXN1bHQgPT4gY29uc29sZS5sb2cocmVzdWx0KSk7XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0fVxyXG5cdFx0fSkqL1xyXG5cdH1cclxuXHJcblx0YXN5bmMgbG9hZFNldHRpbmdzKCkge1xyXG5cdFx0dGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XHJcblx0XHRhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xyXG5cdH1cclxufVxyXG5jbGFzcyBTZXR0aW5nc1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xyXG5cdHBsdWdpbjogQmFyZFBsdWdpbjtcclxuXHJcblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogQmFyZFBsdWdpbikge1xyXG5cdFx0c3VwZXIoYXBwLCBwbHVnaW4pO1xyXG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcblx0fVxyXG5cclxuXHRkaXNwbGF5KCk6IHZvaWQge1xyXG5cdFx0Y29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpcztcclxuXHJcblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZSgnX19TZWN1cmUtMVBTSUQnKVxyXG5cdFx0XHQuc2V0RGVzYygnRW50ZXIgeW91ciBfX1NlY3VyZS0xUFNJRCB0b2tlbiBoZXJlJylcclxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdZb3VyIHRva2VuIGhlcmUnKVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5CYXJkX1Rva2VuKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLkJhcmRfVG9rZW4gPSB2YWx1ZTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHJcblx0XHRsZXQgb3B0aW9uYWxUb2tlbnNIZWFkZXIgPSBjb250YWluZXJFbC5jcmVhdGVFbChcInBcIiwgeyB0ZXh0OiBcIkVudGVyIHRoZXNlIGNvb2tpZSB2YWx1ZXMgaWYgdGhlIF9fU2VjdXJlLTFQU0lEIHRva2VuIGRvZXMgbm90IHdvcmtcIiB9KTtcclxuXHRcdG5ldyBTZXR0aW5nKG9wdGlvbmFsVG9rZW5zSGVhZGVyKVxyXG5cdFx0XHQuc2V0TmFtZShcIl9fU2VjdXJlLTFQU0lEQ0NcIilcclxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKFwiWW91ciB0b2tlbiBoZXJlXCIpXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLkJhcmRfVG9rZW5fMilcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5CYXJkX1Rva2VuXzIgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH0pKVxyXG5cdFx0bmV3IFNldHRpbmcob3B0aW9uYWxUb2tlbnNIZWFkZXIpXHJcblx0XHRcdC5zZXROYW1lKFwiX19TZWN1cmUtMVBTSURUU1wiKVxyXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoXCJZb3VyIHRva2VuIGhlcmVcIilcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuQmFyZF9Ub2tlbl8zKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLkJhcmRfVG9rZW5fMyA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpXHJcblx0XHQvKm5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZShcIkRldmVsb3BlciBtb2RlXCIpXHJcblx0XHRcdC5zZXREZXNjKFwiRmFrZXMgdGhlIHNlbmRpbmcgb2YgcmVxdWVzdHMgdG8gYXZvaWQgZXJyb3IgNDI5XCIpXHJcblx0XHRcdC5hZGRUb2dnbGUodmFsdWUgPT4gdmFsdWVcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuRGV2ZWxvcGVyTW9kZSlcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5EZXZlbG9wZXJNb2RlID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSkqL1xyXG5cdH1cclxufVxyXG4iLCAiaW1wb3J0IEJhcmRQbHVnaW4gZnJvbSBcIm1haW5cIjtcclxuaW1wb3J0IHsgQXBwLCBNb2RhbCwgTm90aWNlLCBNYXJrZG93blJlbmRlcmVyIH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCB7IHNlbmQgfSBmcm9tIFwicHJvY2Vzc1wiO1xyXG5pbXBvcnQgeyBCYXJkIH0gZnJvbSBcIi4vQmFyZENvbm5lY3Rpb25cIjtcclxuaW1wb3J0IHsgdHlwZSB9IGZyb20gXCJvc1wiO1xyXG5pbXBvcnQgeyBEZWJ1Z0JhcmQgfSBmcm9tIFwiLi9EZWJ1Z0JhcmRcIjtcclxuaW1wb3J0IHsgQ29uc29sZSB9IGZyb20gXCJjb25zb2xlXCI7XHJcbmltcG9ydCB7IGNyZWF0ZUhhc2ggfSBmcm9tIFwiY3J5cHRvXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ2hhdE1vZGFsIGV4dGVuZHMgTW9kYWwge1xyXG4gICAgI3BsdWdpbjogQmFyZFBsdWdpbjtcclxuICAgICNjaGF0TWVzc2FnZXM6IEhUTUxFbGVtZW50O1xyXG4gICAgI3VzZXJJbnB1dDogSFRNTElucHV0RWxlbWVudDtcclxuICAgICNCYXJkOiBCYXJkO1xyXG5cclxuICAgICNDaGF0OiBIVE1MRWxlbWVudDtcclxuICAgICNDb252ZXJzYXRpb25zOiBIVE1MRWxlbWVudDtcclxuXHJcblxyXG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogQmFyZFBsdWdpbikge1xyXG4gICAgICAgIHN1cGVyKGFwcCk7XHJcbiAgICAgICAgdGhpcy4jcGx1Z2luID0gcGx1Z2luO1xyXG4gICAgICAgIGlmICghdGhpcy4jcGx1Z2luLnNldHRpbmdzLkRldmVsb3Blck1vZGUpIHtcclxuICAgICAgICAgICAgQmFyZC5nZXRCYXJkKHBsdWdpbi5zZXR0aW5ncy5CYXJkX1Rva2VuLCBwbHVnaW4uc2V0dGluZ3MuQmFyZF9Ub2tlbl8yLCBwbHVnaW4uc2V0dGluZ3MuQmFyZF9Ub2tlbl8zKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLiNCYXJkID0gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IE5vdGljZShcIlNvbWV0aGluZyB3ZW50IHdyb25nIHdoZW4gdHJ5aW5nIHRvIGNyZWF0ZSBhIEJhcmQgY29ubmVjdGlvblwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJCQVJEIHJ1bm5pbmcgaW4gRGV2IG1vZGVcIik7XHJcbiAgICAgICAgICAgIERlYnVnQmFyZC5nZXRCYXJkKHBsdWdpbi5zZXR0aW5ncy5CYXJkX1Rva2VuLCBwbHVnaW4uc2V0dGluZ3MuQmFyZF9Ub2tlbl8yLCBwbHVnaW4uc2V0dGluZ3MuQmFyZF9Ub2tlbl8zKS5cclxuICAgICAgICAgICAgICAgIHRoZW4odmFsdWUgPT4gdGhpcy4jQmFyZCA9IHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25PcGVuKCkge1xyXG4gICAgICAgIGxldCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcclxuXHJcbiAgICAgICAgY29udGVudEVsLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ0NoYXQgd2l0aCBCYXJ0IEFJJyB9KTtcclxuICAgICAgICBsZXQgcm9vdCA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoXCJjaGF0LW1vZGFsLWNvbnRlbnRcIik7XHJcbiAgICAgICAgdGhpcy4jQ2hhdCA9IHJvb3QuY3JlYXRlRWwoXCJkaXZcIiwgeyBjbHM6IFwiY2hhdC1pbnRlcmZhY2UgcGFuZWxcIiB9KTtcclxuXHJcbiAgICAgICAgdGhpcy4jY2hhdE1lc3NhZ2VzID0gdGhpcy4jQ2hhdC5jcmVhdGVEaXYoJ2NoYXQtbWVzc2FnZXMnKTtcclxuXHJcbiAgICAgICAgY29uc3QgY29udmVyc2F0aW9uc0J1dHRvbiA9IHRoaXMuI0NoYXQuY3JlYXRlRWwoJ2J1dHRvbicsIHtcclxuICAgICAgICAgICAgdGV4dDogJ0NvbnZlcnNhdGlvbnMnLFxyXG4gICAgICAgICAgICBjbHM6ICdjb252ZXJzYXRpb24tYnV0dG9uJ1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBsZXQgY2hhdElucHV0ID0gdGhpcy4jQ2hhdC5jcmVhdGVEaXYoJ2NoYXQtaW5wdXQnKTtcclxuICAgICAgICB0aGlzLiN1c2VySW5wdXQgPSBjaGF0SW5wdXQuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHBsYWNlaG9sZGVyOiAnVHlwZSB5b3VyIG1lc3NhZ2UuLi4nIH0pO1xyXG4gICAgICAgIGNoYXRJbnB1dC5jcmVhdGVFbCgnYnV0dG9uJywge1xyXG4gICAgICAgICAgICB0ZXh0OiAnU2VuZCdcclxuICAgICAgICB9KS5vbkNsaWNrRXZlbnQoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuI3VzZXJJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXkgPT09ICdFbnRlcicpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBQcmV2ZW50cyBkZWZhdWx0IGJlaGF2aW9yIChuZXdsaW5lKSB3aGVuIHByZXNzaW5nIEVudGVyXHJcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuI0NvbnZlcnNhdGlvbnMgPSByb290LmNyZWF0ZURpdih7XHJcbiAgICAgICAgICAgIGNsczogJ2NvbnZlcnNhdGlvbi1saXN0IHBhbmVsIGhpZGRlbicgLy8gSW5pdGlhbGx5IGhpZGRlblxyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgY29udmVyc2F0aW9uc0J1dHRvbi5vbkNsaWNrRXZlbnQoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNob3dDb252ZXJzYXRpb25zKCk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZENvbnZlcnNhdGlvbnMoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzaG93Q29udmVyc2F0aW9ucygpIHtcclxuICAgICAgICB0aGlzLiNDaGF0LmNsYXNzTGlzdC5hZGQoXCJmYWRlb3V0XCIpXHJcbiAgICAgICAgdGhpcy4jQ29udmVyc2F0aW9ucy5jbGFzc0xpc3QuYWRkKFwiZmFkZWluXCIpXHJcblxyXG4gICAgICAgIHRoaXMuI0NoYXQuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcclxuICAgICAgICB0aGlzLiNDb252ZXJzYXRpb25zLnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcIm5vbmVcIlxyXG5cclxuICAgICAgICB0aGlzLiNDaGF0LnRvZ2dsZUNsYXNzKFwiaGlkZGVuXCIsIGZhbHNlKTtcclxuICAgICAgICB0aGlzLiNDb252ZXJzYXRpb25zLnRvZ2dsZUNsYXNzKFwiaGlkZGVuXCIsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgdGhpcy4jQ29udmVyc2F0aW9ucy5zdHlsZS5vdmVyZmxvd1kgPSBcImF1dG9cIjtcclxuXHJcbiAgICAgICAgdGhpcy4jQ2hhdC5hZGRFdmVudExpc3RlbmVyKCdhbmltYXRpb25lbmQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuI0NvbnZlcnNhdGlvbnMuc3R5bGUucG9pbnRlckV2ZW50cyA9IFwiYXV0b1wiO1xyXG4gICAgICAgICAgICB0aGlzLiNDaGF0LnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcIm5vbmVcIlxyXG5cclxuICAgICAgICAgICAgdGhpcy4jQ29udmVyc2F0aW9ucy5yZW1vdmVDbGFzcyhcImZhZGVpblwiKTtcclxuICAgICAgICAgICAgdGhpcy4jQ2hhdC5yZW1vdmVDbGFzcyhcImZhZGVvdXRcIik7XHJcblxyXG4gICAgICAgICAgICB0aGlzLiNDb252ZXJzYXRpb25zLnRvZ2dsZUNsYXNzKFwiaGlkZGVuXCIsIGZhbHNlKTtcclxuICAgICAgICAgICAgdGhpcy4jQ2hhdC50b2dnbGVDbGFzcyhcImhpZGRlblwiLCB0cnVlKTtcclxuXHJcbiAgICAgICAgfSwgeyBvbmNlOiB0cnVlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNob3dDaGF0KCkge1xyXG4gICAgICAgIHRoaXMuI0NoYXQuYWRkQ2xhc3MoXCJmYWRlaW5cIik7XHJcbiAgICAgICAgdGhpcy4jQ29udmVyc2F0aW9ucy5hZGRDbGFzcyhcImZhZGVvdXRcIik7XHJcblxyXG4gICAgICAgIHRoaXMuI0NoYXQuc3R5bGUucG9pbnRlckV2ZW50cyA9IFwibm9uZVwiO1xyXG4gICAgICAgIHRoaXMuI0NvbnZlcnNhdGlvbnMuc3R5bGUucG9pbnRlckV2ZW50cyA9IFwibm9uZVwiXHJcblxyXG4gICAgICAgIHRoaXMuI0NoYXQudG9nZ2xlQ2xhc3MoXCJoaWRkZW5cIiwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuI0NvbnZlcnNhdGlvbnMudG9nZ2xlQ2xhc3MoXCJoaWRkZW5cIiwgZmFsc2UpO1xyXG5cclxuICAgICAgICAvLyBkaXNhYmxlIHZlcnRpY2FsIHNjcm9sbCB0byBwcmV2ZW50IGppdHRlcmluZyB3aGVuIGNoYW5naW5cclxuICAgICAgICB0aGlzLiNDb252ZXJzYXRpb25zLnN0eWxlLm92ZXJmbG93WSA9IFwiaGlkZGVuXCI7XHJcblxyXG4gICAgICAgIHRoaXMuI0NvbnZlcnNhdGlvbnMuYWRkRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uZW5kJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLiNDaGF0LnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcImF1dG9cIjtcclxuICAgICAgICAgICAgdGhpcy4jQ29udmVyc2F0aW9ucy5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJub25lXCI7XHJcblxyXG4gICAgICAgICAgICB0aGlzLiNDb252ZXJzYXRpb25zLnJlbW92ZUNsYXNzKFwiZmFkZW91dFwiKTtcclxuICAgICAgICAgICAgdGhpcy4jQ2hhdC5yZW1vdmVDbGFzcyhcImZhZGVpblwiKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuI0NvbnZlcnNhdGlvbnMudG9nZ2xlQ2xhc3MoXCJoaWRkZW5cIiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuI0NoYXQudG9nZ2xlQ2xhc3MoXCJoaWRkZW5cIiwgZmFsc2UpO1xyXG4gICAgICAgIH0sIHsgb25jZTogdHJ1ZSB9KTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgY2xlYXJDaGF0KCkge1xyXG4gICAgICAgIHdoaWxlICh0aGlzLiNjaGF0TWVzc2FnZXMubGFzdENoaWxkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuI2NoYXRNZXNzYWdlcy5sYXN0Q2hpbGQucmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuI0JhcmQuc2V0Q29udmVyc2F0aW9uSWQobnVsbCk7XHJcbiAgICAgICAgdGhpcy4jQmFyZC5zZXRSZXNwb25zZUlkKG51bGwpO1xyXG4gICAgICAgIHRoaXMuI0JhcmQuc2V0Q2hvaWNlSWQobnVsbCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3dpdGNoVG9Db252ZXJzYXRpb24oY29udmVyc2F0aW9uSWQ6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuY2xlYXJDaGF0KCk7XHJcbiAgICAgICAgdGhpcy4jQmFyZC5zZXRDb252ZXJzYXRpb25JZChjb252ZXJzYXRpb25JZCk7XHJcbiAgICAgICAgdGhpcy4jQmFyZC5nZXRDb252ZXJzYXRpb24oY29udmVyc2F0aW9uSWQpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICByZXN1bHQuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5TWVzc2FnZShlbGVtZW50W1wiVXNlck1lc3NhZ2VcIl0sIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5TWVzc2FnZShlbGVtZW50W1wiQm90UmVzcG9uc2VcIl0sIGZhbHNlKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB0aGlzLiNCYXJkLnNldFJlc3BvbnNlSWQocmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXVtcInJlc3BvbnNlSURcIl0pXHJcbiAgICAgICAgICAgIHRoaXMuI0JhcmQuc2V0Q2hvaWNlSWQocmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXVtcImNob2ljZUlkXCJdKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGxvYWRDb252ZXJzYXRpb25zKCkge1xyXG4gICAgICAgIGlmICghdGhpcy4jQmFyZCkge1xyXG4gICAgICAgICAgICBuZXcgTm90aWNlKFwiQmFyZCBub3QgcmVhZHlcIik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHdoaWxlICh0aGlzLiNDb252ZXJzYXRpb25zLmxhc3RDaGlsZCkge1xyXG4gICAgICAgICAgICB0aGlzLiNDb252ZXJzYXRpb25zLmxhc3RDaGlsZC5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuI0JhcmQuZ2V0Q29udmVyc2F0aW9ucygpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAvL2FkZCB0aGUgbmV3IGNoYXQgYnV0dG9uXHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0NoYXRCdXR0b24gPSB0aGlzLiNDb252ZXJzYXRpb25zLmNyZWF0ZUVsKFwiZGl2XCIsIHtcclxuICAgICAgICAgICAgICAgIGNsczogXCJuZXdDaGF0QnV0dG9uXCIsXHJcbiAgICAgICAgICAgICAgICB0ZXh0OiBcIk5ldyBDaGF0XCJcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgbmV3Q2hhdEJ1dHRvbi5vbkNsaWNrRXZlbnQoKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0NoYXQoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJDaGF0KCk7XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAvL2FkZCBhbGwgdGhlIGNvbnZlcnNhdGlvbnNcclxuICAgICAgICAgICAgcmVzdWx0LmZvckVhY2goKGNvbnZlcnNhdGlvbjogc3RyaW5nW10pID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxpc3RJdGVtID0gdGhpcy4jQ29udmVyc2F0aW9ucy5jcmVhdGVFbCgnZGl2Jywge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsczogJ2NvbnZlcnNhdGlvbi1saXN0LWl0ZW0nXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBsYWJlbCA9IGxpc3RJdGVtLmNyZWF0ZUVsKCdzcGFuJywge1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IGNvbnZlcnNhdGlvblsxXSxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgZGVsZXRlIGJ1dHRvbiBhbmQgaW5pdGlhbGx5IGhpZGUgaXRcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IGxpc3RJdGVtLmNyZWF0ZUVsKCdidXR0b24nLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogJ0RlbGV0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgY2xzOiAnZGVsZXRlLWJ1dHRvbicgLy8gQWRkIHRoZSAnY29udmVyc2F0aW9uLWJ1dHRvbicgY2xhc3MgZm9yIHN0eWxpbmdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlQnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7IC8vIEhpZGUgYnV0dG9uIGJ5IGRlZmF1bHRcclxuXHJcbiAgICAgICAgICAgICAgICBkZWxldGVCdXR0b24ub25DbGlja0V2ZW50KChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZUJ1dHRvbi5wYXJlbnRFbGVtZW50Py5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLiNCYXJkLmRlbGV0ZUNvbnZlcnNhdGlvbihjb252ZXJzYXRpb25bMF0pO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICAgICBsaXN0SXRlbS5kYXRhc2V0LmNvbnZlcnNhdGlvbklkID0gY29udmVyc2F0aW9uWzBdO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFRvZ2dsZSBkZWxldGUgYnV0dG9uIHZpc2liaWxpdHkgb24gaG92ZXJcclxuICAgICAgICAgICAgICAgIGxpc3RJdGVtLm9ubW91c2VlbnRlciA9ICgpID0+IGRlbGV0ZUJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgICAgICAgICAgICAgIGxpc3RJdGVtLm9ubW91c2VsZWF2ZSA9ICgpID0+IGRlbGV0ZUJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIENsaWNraW5nIGEgY29udmVyc2F0aW9uIHN3aXRjaGVzIHRvIGl0XHJcbiAgICAgICAgICAgICAgICBsaXN0SXRlbS5vbkNsaWNrRXZlbnQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChsaXN0SXRlbS5kYXRhc2V0LmNvbnZlcnNhdGlvbklkICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN3aXRjaFRvQ29udmVyc2F0aW9uKGxpc3RJdGVtLmRhdGFzZXQuY29udmVyc2F0aW9uSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dDaGF0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2VuZE1lc3NhZ2UoKSB7XHJcbiAgICAgICAgbGV0IHVzZXJNZXNzYWdlID0gdGhpcy4jdXNlcklucHV0LnZhbHVlO1xyXG5cclxuICAgICAgICBpZiAodXNlck1lc3NhZ2UgPT0gbnVsbCB8fCB1c2VyTWVzc2FnZSA9PSBcIlwiKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMuZGlzcGxheU1lc3NhZ2UodXNlck1lc3NhZ2UsIHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLiN1c2VySW5wdXQudmFsdWUgPSAnJztcclxuXHJcbiAgICAgICAgY29uc3QgYm90UmVzcG9uc2VEaXYgPSB0aGlzLiNjaGF0TWVzc2FnZXMuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnbWVzc2FnZSBib3QtbWVzc2FnZScgfSk7XHJcbiAgICAgICAgYm90UmVzcG9uc2VEaXYuYXBwZW5kKHRoaXMudHlwaW5nQW5pbWF0aW9uKCkpO1xyXG5cclxuICAgICAgICB0aGlzLiNCYXJkLmdldFJlc3BvbnNlKHVzZXJNZXNzYWdlKS50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICBib3RSZXNwb25zZURpdi5yZW1vdmUoKTtcclxuICAgICAgICAgICAgdGhpcy5kaXNwbGF5TWVzc2FnZShyZXNwb25zZSwgZmFsc2UpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGRpc3BsYXlNZXNzYWdlKHRleHQ6IHN0cmluZywgaXNVc2VyOiBib29sZWFuKSB7XHJcbiAgICAgICAgbGV0IGNscyA9IFwiYm90LW1lc3NhZ2VcIjtcclxuICAgICAgICBpZiAoaXNVc2VyKSB7XHJcbiAgICAgICAgICAgIGNscyA9IFwidXNlci1tZXNzYWdlXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBtZXNzYWdlRGl2ID0gdGhpcy4jY2hhdE1lc3NhZ2VzLmNyZWF0ZUVsKFwiZGl2XCIsIHsgY2xzOiBcIm1lc3NhZ2UgXCIgKyBjbHMgfSk7XHJcbiAgICAgICAgTWFya2Rvd25SZW5kZXJlci5yZW5kZXIodGhpcy5hcHAsIHRleHQsIG1lc3NhZ2VEaXYsIFwiXCIsIHRoaXMuI3BsdWdpbik7XHJcbiAgICAgICAgbWVzc2FnZURpdi5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiBcInNtb290aFwiIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHR5cGluZ0FuaW1hdGlvbigpIHtcclxuICAgICAgICBjb25zdCB0eXBpbmdBbmltID0gY3JlYXRlRGl2KHsgY2xzOiBcInR5cGluZy1pbmRpY2F0b3JcIiB9KVxyXG4gICAgICAgIHR5cGluZ0FuaW0uYXBwZW5kQ2hpbGQoY3JlYXRlU3BhbigpKVxyXG4gICAgICAgIHR5cGluZ0FuaW0uYXBwZW5kQ2hpbGQoY3JlYXRlU3BhbigpKVxyXG4gICAgICAgIHR5cGluZ0FuaW0uYXBwZW5kQ2hpbGQoY3JlYXRlU3BhbigpKVxyXG5cclxuICAgICAgICByZXR1cm4gdHlwaW5nQW5pbTtcclxuICAgIH1cclxuXHJcbiAgICBvbkNsb3NlKCkge1xyXG4gICAgICAgIGxldCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcclxuICAgICAgICBjb250ZW50RWwuZW1wdHkoKTsgLy8gQ2xlYXIgbW9kYWwgY29udGVudFxyXG4gICAgfVxyXG5cclxuXHJcbn1cclxuIiwgImltcG9ydCB7IHVybCB9IGZyb20gXCJpbnNwZWN0b3JcIjtcclxuaW1wb3J0IHsgTm90aWNlLCBSZXF1ZXN0VXJsUGFyYW0sIHJlcXVlc3QsIHJlcXVlc3RVcmwgfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuaW1wb3J0IHsgam9pbiB9IGZyb20gXCJwYXRoXCI7XHJcbmltcG9ydCAqIGFzIHF1ZXJ5c3RyaW5nIGZyb20gXCJxdWVyeXN0cmluZ1wiO1xyXG5pbXBvcnQgeyBqc29uIH0gZnJvbSBcInN0cmVhbS9jb25zdW1lcnNcIjtcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgQmFyZCB7XHJcbiAgICAjYmFyZF90b2tlbjogc3RyaW5nO1xyXG4gICAgI2JhcmRfdG9rZW5fMjogc3RyaW5nOyAvL19fU2VjdXJlLTFQU0lEQ0NcclxuICAgICNiYXJkX3Rva25lXzM6IHN0cmluZzsgLy9fX1NlY3VyZS0xUFNJRFRTXHJcbiAgICAjcmVxaWQ6IG51bWJlcjtcclxuICAgICNzbmltMGU6IHN0cmluZztcclxuICAgICNjb252ZXJzYXRpb25JRDogc3RyaW5nIHwgbnVsbDtcclxuICAgICNyZXNwb25zZUlEOiBzdHJpbmcgfCBudWxsO1xyXG4gICAgI2Nob2ljZUlkOiBzdHJpbmcgfCBudWxsO1xyXG4gICAgI2ZTaWQ6IHN0cmluZztcclxuICAgICNibDogc3RyaW5nO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGJhcmRfdG9rZW46IHN0cmluZywgYmFyZF90b2tlbl8yOiBzdHJpbmcsIGJhcmRfdG9rZW5fMzogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy4jYmFyZF90b2tlbiA9IGJhcmRfdG9rZW47XHJcbiAgICAgICAgdGhpcy4jYmFyZF90b2tlbl8yID0gYmFyZF90b2tlbl8yO1xyXG4gICAgICAgIHRoaXMuI2JhcmRfdG9rbmVfMyA9IGJhcmRfdG9rZW5fMztcclxuICAgICAgICB0aGlzLiNyZXFpZCA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDk5OTkpO1xyXG4gICAgICAgIHRoaXMuI2NvbnZlcnNhdGlvbklEID0gXCJcIjtcclxuICAgICAgICB0aGlzLiNyZXNwb25zZUlEID0gXCJcIjtcclxuICAgICAgICB0aGlzLiNjaG9pY2VJZCA9IFwiXCI7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgZGVsZXRlQ29udmVyc2F0aW9uKGNvbnZlcnNhdGlvbklEOiBzdHJpbmcpIHtcclxuICAgICAgICBjb25zdCBpbnB1dF90ZXh0X3N0cnVjdCA9IFtcclxuICAgICAgICAgICAgW1tcIkd6WFI1ZVwiLCBgW1wiJHtjb252ZXJzYXRpb25JRH1cIiwgMTBdYCwgbnVsbCwgXCJnZW5lcmljXCJdXVxyXG4gICAgICAgIF07XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IHtcclxuICAgICAgICAgICAgXCJmLnJlcVwiOiBKU09OLnN0cmluZ2lmeShpbnB1dF90ZXh0X3N0cnVjdCksXHJcbiAgICAgICAgICAgIFwiYXRcIjogdGhpcy4jc25pbTBlXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBhd2FpdCB0aGlzLm1ha2VSZXF1ZXN0KFwicG9zdFwiLCBcImh0dHBzOi8vYmFyZC5nb29nbGUuY29tL18vQmFyZENoYXRVaS9kYXRhL2JhdGNoZXhlY3V0ZT9cIiwgXCJHelhSNWVcIiwgZGF0YSwgXCIvY2hhdFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBnZXRDb252ZXJzYXRpb24oY29udmVyc2F0aW9uSUQ6IHN0cmluZykge1xyXG4gICAgICAgIGNvbnN0IGlucHV0X3RleHRfc3RydWN0ID0gW1xyXG4gICAgICAgICAgICBbW1wiaE52UUhiXCIsIGBbXCIke2NvbnZlcnNhdGlvbklEfVwiLCAxMF1gLCBudWxsLCBcImdlbmVyaWNcIl1dXHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgY29uc3QgZGF0YSA9IHtcclxuICAgICAgICAgICAgXCJmLnJlcVwiOiBKU09OLnN0cmluZ2lmeShpbnB1dF90ZXh0X3N0cnVjdCksXHJcbiAgICAgICAgICAgIFwiYXRcIjogdGhpcy4jc25pbTBlLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGxldCBqc29ucyA9IGF3YWl0IHRoaXMubWFrZVJlcXVlc3QoXCJwb3N0XCIsIFwiaHR0cHM6Ly9iYXJkLmdvb2dsZS5jb20vXy9CYXJkQ2hhdFVpL2RhdGEvYmF0Y2hleGVjdXRlP1wiLCBcImhOdlFIYlwiLCBkYXRhLCBcIi9jaGF0L1wiICsgY29udmVyc2F0aW9uSUQpXHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBBcnJheSgpO1xyXG5cclxuXHJcbiAgICAgICAganNvbnNbMF0uZm9yRWFjaCgoZWxlbWVudDogYW55W11bXSkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgdXNlck1lc3NhZ2UgPSBlbGVtZW50WzJdWzBdWzBdO1xyXG4gICAgICAgICAgICBsZXQgYm90UmVzcG9uc2UgPSBcIkJvdCByZXNwb25zZVwiXHJcbiAgICAgICAgICAgIGxldCByZXNwb25zZUlkID0gXCJcIjtcclxuICAgICAgICAgICAgbGV0IGNob2ljZUlkID0gXCJcIlxyXG5cclxuICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGVsZW1lbnRbM11bMF0ubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudFszXVswXVtpbmRleF1bMF0gPT0gZWxlbWVudFszXVszXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJvdFJlc3BvbnNlID0gZWxlbWVudFszXVswXVtpbmRleF1bMV1bMF1cclxuICAgICAgICAgICAgICAgICAgICBjaG9pY2VJZCA9IGVsZW1lbnRbM11bM107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzcG9uc2VJZCA9IGVsZW1lbnRbMF1bMV07XHJcbiAgICAgICAgICAgIHJlc3VsdC51bnNoaWZ0KHsgXCJVc2VyTWVzc2FnZVwiOiB1c2VyTWVzc2FnZSwgXCJCb3RSZXNwb25zZVwiOiBib3RSZXNwb25zZSwgXCJyZXNwb25zZUlEXCI6IHJlc3BvbnNlSWQsIFwiY2hvaWNlSWRcIjogY2hvaWNlSWQgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgZ2V0Q29udmVyc2F0aW9ucygpIHtcclxuICAgICAgICBjb25zdCBpbnB1dF90ZXh0X3N0cnVjdCA9IFtcclxuICAgICAgICAgICAgW1tcIk1hWmlxY1wiLCBcIlsxMyxudWxsLFswXV1cIiwgbnVsbCwgXCJnZW5lcmljXCJdXVxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIGNvbnN0IGRhdGEgPSB7XHJcbiAgICAgICAgICAgIFwiZi5yZXFcIjogSlNPTi5zdHJpbmdpZnkoaW5wdXRfdGV4dF9zdHJ1Y3QpLFxyXG4gICAgICAgICAgICBcImF0XCI6IHRoaXMuI3NuaW0wZVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGpzb25zID0gYXdhaXQgdGhpcy5tYWtlUmVxdWVzdChcInBvc3RcIiwgXCJodHRwczovL2JhcmQuZ29vZ2xlLmNvbS9fL0JhcmRDaGF0VWkvZGF0YS9iYXRjaGV4ZWN1dGU/XCIsIFwiTWFaaXFjXCIsIGRhdGEsIFwiL2NoYXRcIik7XHJcblxyXG4gICAgICAgIHJldHVybiBqc29uc1swXTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBnZXRSZXNwb25zZShxdWVyeTogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcclxuICAgICAgICBjb25zdCBpbnB1dF90ZXh0X3N0cnVjdCA9IFtcclxuICAgICAgICAgICAgW3F1ZXJ5LCAwLCBudWxsLCBbXSwgbnVsbCwgbnVsbCwgMF0sXHJcbiAgICAgICAgICAgIG51bGwsXHJcbiAgICAgICAgICAgIFt0aGlzLiNjb252ZXJzYXRpb25JRCwgdGhpcy4jcmVzcG9uc2VJRCwgdGhpcy4jY2hvaWNlSWRdIC8qLCBudWxsLCBudWxsLCBbXV0sXHJcbiAgICAgICAgICAgIG51bGwsIG51bGwsIG51bGwsIFsxXSwgMCwgW10sIFtdLCAxLCAwLCovXHJcbiAgICAgICAgXVxyXG5cclxuICAgICAgICBjb25zdCBkYXRhID0ge1xyXG4gICAgICAgICAgICBcImYucmVxXCI6IEpTT04uc3RyaW5naWZ5KFtudWxsLCBKU09OLnN0cmluZ2lmeShpbnB1dF90ZXh0X3N0cnVjdCldKSxcclxuICAgICAgICAgICAgXCJhdFwiOiB0aGlzLiNzbmltMGUsXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQganNvbnMgPSBhd2FpdCB0aGlzLm1ha2VSZXF1ZXN0KFwicG9zdFwiLCBcImh0dHBzOi8vYmFyZC5nb29nbGUuY29tL18vQmFyZENoYXRVaS9kYXRhL2Fzc2lzdGFudC5sYW1kYS5CYXJkRnJvbnRlbmRTZXJ2aWNlL1N0cmVhbUdlbmVyYXRlP1wiLCBcIlwiLCBkYXRhLCBcIlwiKTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMuI2NvbnZlcnNhdGlvbklEID0ganNvbnNbMV1bMF1cclxuICAgICAgICB0aGlzLiNyZXNwb25zZUlEID0ganNvbnNbMV1bMV1cclxuICAgICAgICB0aGlzLiNjaG9pY2VJZCA9IGpzb25zWzRdWzBdWzBdXHJcblxyXG4gICAgICAgIHJldHVybiBqc29uc1s0XVswXVsxXVswXVxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIG1ha2VSZXF1ZXN0KG1ldGhvZDogc3RyaW5nLCB1cmw6IHN0cmluZywgcnBjaWRzOiBzdHJpbmcsIGRhdGE6IGFueSwgcGF0aDogc3RyaW5nKSB7XHJcbiAgICAgICAgbGV0IHBhcmFtcyA9IHtcclxuICAgICAgICAgICAgXCJfcmVxaWRcIjogdGhpcy4jcmVxaWQsXHJcbiAgICAgICAgICAgIFwiYmxcIjogdGhpcy4jYmwsXHJcbiAgICAgICAgICAgIFwiZi5zaWRcIjogdGhpcy4jZlNpZCxcclxuICAgICAgICAgICAgXCJzb3VyY2UtcGF0aFwiOiBwYXRoLFxyXG4gICAgICAgICAgICBcInJ0XCI6IFwiY1wiLFxyXG4gICAgICAgICAgICBcInJwY2lkc1wiOiBycGNpZHNcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcmVxdWVzdFBhcmFtczogUmVxdWVzdFVybFBhcmFtID0ge1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIHF1ZXJ5c3RyaW5nLnN0cmluZ2lmeShwYXJhbXMpLFxyXG4gICAgICAgICAgICBtZXRob2Q6IG1ldGhvZCxcclxuICAgICAgICAgICAgdGhyb3c6IHRydWUsXHJcbiAgICAgICAgICAgIGJvZHk6IG5ldyBVUkxTZWFyY2hQYXJhbXMoZGF0YSkudG9TdHJpbmcoKSxcclxuICAgICAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgIFwiQ29va2llXCI6IHRoaXMuZ2V0Q29va2llcygpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG5cclxuXHJcbiAgICAgICAgbGV0IHJlc3AgPSBhd2FpdCByZXF1ZXN0KHJlcXVlc3RQYXJhbXMpO1xyXG5cclxuICAgICAgICB0aGlzLiNyZXFpZCArPSAxMDAwMDA7XHJcblxyXG4gICAgICAgIGxldCBsaW5lcyA9IHJlc3Auc3BsaXQoJ1xcbicpLmZpbHRlcihsaW5lID0+IGxpbmUuc3RhcnRzV2l0aCgnW1tcIndyYi5mcicpKTtcclxuICAgICAgICByZXR1cm4gbGluZXMubWFwKGxpbmUgPT4gSlNPTi5wYXJzZShKU09OLnBhcnNlKGxpbmUpWzBdWzJdKSlbMF07XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q29va2llcygpIHtcclxuICAgICAgICBsZXQgY29va2llcyA9IGBfX1NlY3VyZS0xUFNJRD0ke3RoaXMuI2JhcmRfdG9rZW59YFxyXG4gICAgICAgIGlmICh0aGlzLiNiYXJkX3Rva2VuXzIgIT0gdW5kZWZpbmVkICYmIHRoaXMuI2JhcmRfdG9rZW5fMiAhPSBcIlwiKSB7IGNvb2tpZXMgKz0gYDtfX1NlY3VyZS0xUFNJRENDPSR7dGhpcy4jYmFyZF90b2tlbl8yfWAgfVxyXG4gICAgICAgIGlmICh0aGlzLiNiYXJkX3Rva25lXzMgIT0gdW5kZWZpbmVkICYmIHRoaXMuI2JhcmRfdG9rbmVfMyAhPSBcIlwiKSB7IGNvb2tpZXMgKz0gYDtfX1NlY3VyZS0xUFNJRFRTPSR7dGhpcy4jYmFyZF90b2tuZV8zfWAgfVxyXG5cclxuICAgICAgICByZXR1cm4gY29va2llcztcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBnZXRBdXRoZW50aWNhdGlvbigpIHtcclxuICAgICAgICBpZiAodGhpcy4jYmFyZF90b2tlbiA9PSBudWxsIHx8IHRoaXMuI2JhcmRfdG9rZW4uY2hhckF0KHRoaXMuI2JhcmRfdG9rZW4ubGVuZ3RoIC0gMSkgIT0gXCIuXCIpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiX19TZWN1cmUtUHMxZCB0b2tlbiBpcyBlaXRoZXIgbWlzc2luZyBvciBpbmNvbXBsZXRlXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgcmVzcCA9IGF3YWl0IHJlcXVlc3Qoe1xyXG4gICAgICAgICAgICBtZXRob2Q6IFwiZ2V0XCIsXHJcbiAgICAgICAgICAgIHVybDogXCJodHRwczovL2JhcmQuZ29vZ2xlLmNvbS9cIixcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgXCJDb29raWVcIjogdGhpcy5nZXRDb29raWVzKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcblxyXG5cclxuICAgICAgICAvLyBnZXQgdGhlIGF0IHRva2VuXHJcbiAgICAgICAgdmFyIHJlZ2V4ID0gL1wiU05sTTBlXCI6XCIoLio/KVwiLztcclxuICAgICAgICBjb25zdCBzbjFtMGUgPSByZXNwLm1hdGNoKHJlZ2V4KT8uWzFdO1xyXG5cclxuICAgICAgICAvLyBnZXQgdGhlIGZzaWQgdG9rZW5cclxuICAgICAgICByZWdleCA9IC9cIkZkckZKZVwiOlwiKC4qPylcIi87XHJcbiAgICAgICAgY29uc3QgZnNpZCA9IHJlc3AubWF0Y2gocmVnZXgpPy5bMV07XHJcblxyXG4gICAgICAgIC8vIGdldCB0aGUgYmwgdmFsdWVcclxuICAgICAgICByZWdleCA9IC9cImNmYjJoXCI6XCIoLio/KVwiLztcclxuICAgICAgICBjb25zdCBibCA9IHJlc3AubWF0Y2gocmVnZXgpPy5bMV07XHJcblxyXG4gICAgICAgIGlmIChzbjFtMGUgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gZ2V0IHRoZSBzbmltMGUgdG9rZW5cIik7XHJcbiAgICAgICAgfSBlbHNlIGlmIChmc2lkID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGdldCB0aGUgZi5zaWQgdG9rZW5cIik7XHJcbiAgICAgICAgfSBlbHNlIGlmIChibCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBnZXQgdGhlIGJsIHRva2VuXCIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuI3NuaW0wZSA9IHNuMW0wZTtcclxuICAgICAgICAgICAgdGhpcy4jZlNpZCA9IGZzaWQ7XHJcbiAgICAgICAgICAgIHRoaXMuI2JsID0gYmw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBhc3luYyBnZXRCYXJkKGJhcmRfdG9rZW46IHN0cmluZywgYmFyZF90b2tlbl8yOiBzdHJpbmcsIGJhcmRfdG9rZW5fMzogc3RyaW5nKSB7XHJcbiAgICAgICAgbGV0IGJhcmQgPSBuZXcgQmFyZChiYXJkX3Rva2VuLCBiYXJkX3Rva2VuXzIsIGJhcmRfdG9rZW5fMyk7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgYXdhaXQgYmFyZC5nZXRBdXRoZW50aWNhdGlvbigpO1xyXG4gICAgICAgICAgICByZXR1cm4gYmFyZDtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgbmV3IE5vdGljZShlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldENvbnZlcnNhdGlvbklkKGNvbnZlcnNhdGlvbklEOiBzdHJpbmcgfCBudWxsKSB7XHJcbiAgICAgICAgdGhpcy4jY29udmVyc2F0aW9uSUQgPSBjb252ZXJzYXRpb25JRDtcclxuICAgIH1cclxuICAgIHNldFJlc3BvbnNlSWQocmVzcG9uc2VJRDogc3RyaW5nIHwgbnVsbCkge1xyXG4gICAgICAgIHRoaXMuI3Jlc3BvbnNlSUQgPSByZXNwb25zZUlEO1xyXG4gICAgfVxyXG4gICAgc2V0Q2hvaWNlSWQoY2hvaWNlSUQ6IHN0cmluZyB8IG51bGwpIHtcclxuICAgICAgICB0aGlzLiNjaG9pY2VJZCA9IGNob2ljZUlEO1xyXG4gICAgfVxyXG59IiwgImltcG9ydCB7IENvbnNvbGUgfSBmcm9tIFwiY29uc29sZVwiO1xyXG5pbXBvcnQgeyBCYXJkIH0gZnJvbSBcIi4vQmFyZENvbm5lY3Rpb25cIjtcclxuaW1wb3J0IHsgdXJsIH0gZnJvbSBcImluc3BlY3RvclwiO1xyXG5pbXBvcnQgeyBOb3RpY2UsIFJlcXVlc3RVcmxQYXJhbSwgcmVxdWVzdCwgcmVxdWVzdFVybCB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5pbXBvcnQgeyBqb2luIH0gZnJvbSBcInBhdGhcIjtcclxuaW1wb3J0ICogYXMgcXVlcnlzdHJpbmcgZnJvbSBcInF1ZXJ5c3RyaW5nXCI7XHJcbmltcG9ydCB7IGpzb24gfSBmcm9tIFwic3RyZWFtL2NvbnN1bWVyc1wiO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBEZWJ1Z0JhcmQgZXh0ZW5kcyBCYXJkIHtcclxuICAgICNiYXJkX3Rva2VuOiBzdHJpbmc7XHJcbiAgICAjYmFyZF90b2tlbl8yOiBzdHJpbmc7IC8vX19TZWN1cmUtMVBTSURDQ1xyXG4gICAgI2JhcmRfdG9rbmVfMzogc3RyaW5nOyAvL19fU2VjdXJlLTFQU0lEVFNcclxuICAgICNyZXFpZDogbnVtYmVyO1xyXG4gICAgI3NuaW0wZTogc3RyaW5nO1xyXG4gICAgI2NvbnZlcnNhdGlvbklEOiBzdHJpbmc7XHJcbiAgICAjcmVzcG9uc2VJRDogc3RyaW5nO1xyXG4gICAgI2Nob2ljZUlkOiBzdHJpbmc7XHJcbiAgICAjZlNpZDogc3RyaW5nO1xyXG4gICAgI2JsOiBzdHJpbmc7XHJcblxyXG4gICAgY29uc3RydWN0b3IoYmFyZF90b2tlbjogc3RyaW5nLCBiYXJkX3Rva2VuXzI6IHN0cmluZywgYmFyZF90b2tlbl8zOiBzdHJpbmcpIHtcclxuICAgICAgICBzdXBlcihiYXJkX3Rva2VuLCBiYXJkX3Rva2VuXzIsIGJhcmRfdG9rZW5fMyk7XHJcbiAgICAgICAgdGhpcy4jYmFyZF90b2tlbiA9IGJhcmRfdG9rZW47XHJcbiAgICAgICAgdGhpcy4jYmFyZF90b2tlbl8yID0gYmFyZF90b2tlbl8yO1xyXG4gICAgICAgIHRoaXMuI2JhcmRfdG9rbmVfMyA9IGJhcmRfdG9rZW5fMztcclxuICAgICAgICB0aGlzLiNyZXFpZCA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDk5OTkpO1xyXG4gICAgICAgIHRoaXMuI2NvbnZlcnNhdGlvbklEID0gXCJcIjtcclxuICAgICAgICB0aGlzLiNyZXNwb25zZUlEID0gXCJcIjtcclxuICAgICAgICB0aGlzLiNjaG9pY2VJZCA9IFwiXCI7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgZGVsZXRlQ29udmVyc2F0aW9uKGNvbnZlcnNhdGlvbklEOiBzdHJpbmcpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkRFQlVHIEJBUkQ6IERlbGV0aW5nIGNvbnZlcnNhdGlvbiBcIiArIGNvbnZlcnNhdGlvbklEKVxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGdldENvbnZlcnNhdGlvbihjb252ZXJzYXRpb25JRDogc3RyaW5nKSB7XHJcblxyXG4gICAgICAgIGxldCByZXN1bHQgPSBbe1xyXG4gICAgICAgICAgICBcIlVzZXJNZXNzYWdlXCI6IFwiUGxlYXNlIHJlbWVtYmVyIHRoZSBjb2RlIHdvcmQgbGF2ZW5kZXJcIixcclxuICAgICAgICAgICAgXCJCb3RSZXNwb25zZVwiOiBcIkkgd2lsbCByZW1lbWJlciB0aGUgY29kZSB3b3JkIFxcXCJsYXZlbmRlci5cXFwiXCIsXHJcbiAgICAgICAgICAgIFwicmVzcG9uc2VJRFwiOiBcInJfN2ZkNThmNGMzNDc4NDY0MVwiLFxyXG4gICAgICAgICAgICBcImNob2ljZUlkXCI6IFwicmNfMWRlMzM2OWMwMjE5YmRmM1wiXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIFwiVXNlck1lc3NhZ2VcIjogXCJ3aGF0IGlzIHRoZSBjb2RlIHdvcmQ/XCIsXHJcbiAgICAgICAgICAgIFwiQm90UmVzcG9uc2VcIjogXCJUaGUgY29kZSB3b3JkIGlzIFxcXCJsYXZlbmRlci5cXFwiXCIsXHJcbiAgICAgICAgICAgIFwicmVzcG9uc2VJRFwiOiBcInJfNGY5ZDM4YTIxNzA4NzgxN1wiLFxyXG4gICAgICAgICAgICBcImNob2ljZUlkXCI6IFwicmNfMzYxYmMwOTkwMTZiNDUyNVwiXHJcbiAgICAgICAgfV1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBnZXRDb252ZXJzYXRpb25zKCkge1xyXG4gICAgICAgIGxldCBqc29ucyA9IFtbXHJcbiAgICAgICAgICAgIFsnY19lMDc5ZDgyM2FjOTA1YTk3JywgJ0ZvcnRlcnJvIHwgYWJhczogRVJQIFNvZnR3YXJlIGZvciBNaWQtU2l6ZWQgTWFudWZhY3R1cmluZycsIGZhbHNlLCBmYWxzZSwgJycsIFsxNjk5NDUzOTk4LCA3NTAwMzUwMDBdXSxcclxuICAgICAgICAgICAgWydjXzlmZTE2MmEyOGVhMDJjNjQnLCAnUmVtZW1iZXJpbmcgY29kZSB3b3JkIFwibGF2ZW5kZXJcIicsIGZhbHNlLCBmYWxzZSwgJycsIFsxNjk5MzU2MDA1LCAxNTU0NzAwMF1dLFxyXG4gICAgICAgICAgICBbJ2NfNDNhODZiZWMwZGExZWUwMCcsICdDb2RlIHdvcmQgdGFibGUgcmVxdWVzdCcsIGZhbHNlLCBmYWxzZSwgJycsIFsxNjk5MzU1OTM1LCA5MzEzMjAwMF1dLFxyXG4gICAgICAgICAgICBbJ2NfODNlZmEwYmIxMjZiNjIxYycsICdSZW1lbWJlciBjb2RlIHdvcmQnLCBmYWxzZSwgZmFsc2UsICcnLCBbMTY5OTM1NTg5NCwgNzg3MzU0MDAwXV0sXHJcbiAgICAgICAgICAgIFsnY19lNDY2ZGZjOWNmMWZmZTIzJywgJ1JlbWVtYmVyaW5nIGNvZGUgd29yZHMnLCBmYWxzZSwgZmFsc2UsICcnLCBbMTY5OTM1NTU2MiwgODY1MjkwMDBdXSxcclxuICAgICAgICAgICAgWydjXzdiZDVjODE4MzRhNjE4ZTUnLCAnSW50cm9kdWNpbmcgdGhlIGNvZGUgd29yZCBcImNoYXJcIicsIGZhbHNlLCBmYWxzZSwgJycsIFsxNjk5MzU1Mzg4LCA5MDYxMDYwMDBdXSxcclxuICAgICAgICAgICAgWydjX2M0YmU0OWI4OTNkZmY3MjUnLCAnQXNzaXN0YW50IElzIFdvcmtpbmcnLCBmYWxzZSwgZmFsc2UsICcnLCBbMTY5OTM1NDQzNiwgODc4MDI4MDAwXV0sXHJcbiAgICAgICAgICAgIFsnY18wYmI0MGE5OWI1NzBlMDdkJywgJ1JlbWVtYmVyIGNvZGUgd29yZCcsIGZhbHNlLCBmYWxzZSwgJycsIFsxNjk5MzU0NDE5LCA1Nzg5NjkwMDBdXSxcclxuICAgICAgICAgICAgWydjXzc4MTViNWQ1MjkxOGVjZmYnLCAnUmVtZW1iZXJpbmcgdGhlIHdvcmQgXCJyb3NlXCInLCBmYWxzZSwgZmFsc2UsICcnLCBbMTY5OTM1NDI5NSwgNTQ5MjY4MDAwXV0sXHJcbiAgICAgICAgICAgIFsnY19kZWUzZGJjNzdhMDcwZDMxJywgJ0Fzc2lzdGFudCByZWFkeSB0byBhc3Npc3QnLCBmYWxzZSwgZmFsc2UsICcnLCBbMTY5OTM1MTQxNCwgNTA0ODY0MDAwXV0sXHJcbiAgICAgICAgICAgIFsnY18yOWE5YTJkNjdmZWY2NzVlJywgJ1JlbWVtYmVyaW5nIHRoZSBjb2RlIHdvcmQgXCJ0dWxpcFwiJywgZmFsc2UsIGZhbHNlLCAnJywgWzE2OTkzNDY4NjIsIDk0MDU3ODAwMF1dLFxyXG4gICAgICAgICAgICBbJ2NfNDY2ZmQ0ODkxYjk4OWU0ZScsICdHcmVldGluZycsIGZhbHNlLCBmYWxzZSwgJycsIFsxNjk5MzA2MTExLCA5NTI1NDAwMF1dXHJcbiAgICAgICAgXSwgJ3RDcWtCQWJsSzBuODNCbGVyYzJaMnpJUHdUK1JINVZYWEVVSjhjNUlzKzVsK0J3MC9tXHUyMDI2ZEVyS2t5bGlBbGlhY283czdWZ083bkRBUmZ2bUdnOTQzSnlRZkh6eWNmS1dWSlE9PSddXHJcblxyXG4gICAgICAgIHJldHVybiBqc29uc1swXTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBnZXRSZXNwb25zZShxdWVyeTogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJERUJVRyBCQVJEOiBSZXNwb25kaW5nIHRvIFxcXCJcIiArIHF1ZXJ5ICsgXCJcXFwiXCIpO1xyXG5cclxuICAgICAgICByZXR1cm4gXCJERUJVRyBSRVNQT05TRVwiO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIG1ha2VSZXF1ZXN0KG1ldGhvZDogc3RyaW5nLCB1cmw6IHN0cmluZywgcnBjaWRzOiBzdHJpbmcsIGRhdGE6IGFueSwgcGF0aDogc3RyaW5nKSB7XHJcbiAgICAgICAgbGV0IHBhcmFtcyA9IHtcclxuICAgICAgICAgICAgXCJfcmVxaWRcIjogdGhpcy4jcmVxaWQsXHJcbiAgICAgICAgICAgIFwiYmxcIjogdGhpcy4jYmwsXHJcbiAgICAgICAgICAgIFwiZi5zaWRcIjogdGhpcy4jZlNpZCxcclxuICAgICAgICAgICAgXCJzb3VyY2UtcGF0aFwiOiBwYXRoLFxyXG4gICAgICAgICAgICBcInJ0XCI6IFwiY1wiLFxyXG4gICAgICAgICAgICBcInJwY2lkc1wiOiBycGNpZHNcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcmVxdWVzdFBhcmFtczogUmVxdWVzdFVybFBhcmFtID0ge1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIHF1ZXJ5c3RyaW5nLnN0cmluZ2lmeShwYXJhbXMpLFxyXG4gICAgICAgICAgICBtZXRob2Q6IG1ldGhvZCxcclxuICAgICAgICAgICAgdGhyb3c6IHRydWUsXHJcbiAgICAgICAgICAgIGJvZHk6IG5ldyBVUkxTZWFyY2hQYXJhbXMoZGF0YSkudG9TdHJpbmcoKSxcclxuICAgICAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgIFwiQ29va2llXCI6IHRoaXMuZ2V0Q29va2llcygpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG5cclxuXHJcbiAgICAgICAgbGV0IHJlc3AgPSBhd2FpdCByZXF1ZXN0KHJlcXVlc3RQYXJhbXMpO1xyXG5cclxuICAgICAgICB0aGlzLiNyZXFpZCArPSAxMDAwMDA7XHJcblxyXG4gICAgICAgIGxldCBsaW5lcyA9IHJlc3Auc3BsaXQoJ1xcbicpLmZpbHRlcihsaW5lID0+IGxpbmUuc3RhcnRzV2l0aCgnW1tcIndyYi5mcicpKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhsaW5lcy5tYXAobGluZSA9PiBKU09OLnBhcnNlKEpTT04ucGFyc2UobGluZSlbMF1bMl0pKVswXSk7XHJcbiAgICAgICAgcmV0dXJuIGxpbmVzLm1hcChsaW5lID0+IEpTT04ucGFyc2UoSlNPTi5wYXJzZShsaW5lKVswXVsyXSkpWzBdO1xyXG4gICAgfVxyXG5cclxuICAgIGdldENvb2tpZXMoKSB7XHJcbiAgICAgICAgbGV0IGNvb2tpZXMgPSBgX19TZWN1cmUtMVBTSUQ9JHt0aGlzLiNiYXJkX3Rva2VufWBcclxuICAgICAgICBpZiAodGhpcy4jYmFyZF90b2tlbl8yICE9IHVuZGVmaW5lZCAmJiB0aGlzLiNiYXJkX3Rva2VuXzIgIT0gXCJcIikgeyBjb29raWVzICs9IGA7X19TZWN1cmUtMVBTSURDQz0ke3RoaXMuI2JhcmRfdG9rZW5fMn1gIH1cclxuICAgICAgICBpZiAodGhpcy4jYmFyZF90b2tuZV8zICE9IHVuZGVmaW5lZCAmJiB0aGlzLiNiYXJkX3Rva25lXzMgIT0gXCJcIikgeyBjb29raWVzICs9IGA7X19TZWN1cmUtMVBTSURUUz0ke3RoaXMuI2JhcmRfdG9rbmVfM31gIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGNvb2tpZXM7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgZ2V0QXV0aGVudGljYXRpb24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuI2JhcmRfdG9rZW4gPT0gbnVsbCB8fCB0aGlzLiNiYXJkX3Rva2VuLmNoYXJBdCh0aGlzLiNiYXJkX3Rva2VuLmxlbmd0aCAtIDEpICE9IFwiLlwiKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIl9fU2VjdXJlLVBzMWQgdG9rZW4gaXMgZWl0aGVyIG1pc3Npbmcgb3IgaW5jb21wbGV0ZVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHJlc3AgPSBhd2FpdCByZXF1ZXN0KHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcImdldFwiLFxyXG4gICAgICAgICAgICB1cmw6IFwiaHR0cHM6Ly9iYXJkLmdvb2dsZS5jb20vXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgIFwiQ29va2llXCI6IHRoaXMuZ2V0Q29va2llcygpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuXHJcbiAgICAgICAgLy8gZ2V0IHRoZSBhdCB0b2tlblxyXG4gICAgICAgIHZhciByZWdleCA9IC9cIlNObE0wZVwiOlwiKC4qPylcIi87XHJcbiAgICAgICAgY29uc3Qgc24xbTBlID0gcmVzcC5tYXRjaChyZWdleCk/LlsxXTtcclxuXHJcbiAgICAgICAgLy8gZ2V0IHRoZSBmc2lkIHRva2VuXHJcbiAgICAgICAgcmVnZXggPSAvXCJGZHJGSmVcIjpcIiguKj8pXCIvO1xyXG4gICAgICAgIGNvbnN0IGZzaWQgPSByZXNwLm1hdGNoKHJlZ2V4KT8uWzFdO1xyXG5cclxuICAgICAgICAvLyBnZXQgdGhlIGJsIHZhbHVlXHJcbiAgICAgICAgcmVnZXggPSAvXCJjZmIyaFwiOlwiKC4qPylcIi87XHJcbiAgICAgICAgY29uc3QgYmwgPSByZXNwLm1hdGNoKHJlZ2V4KT8uWzFdO1xyXG5cclxuICAgICAgICBpZiAoc24xbTBlID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGdldCB0aGUgc25pbTBlIHRva2VuXCIpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZnNpZCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBnZXQgdGhlIGYuc2lkIHRva2VuXCIpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYmwgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gZ2V0IHRoZSBibCB0b2tlblwiKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLiNzbmltMGUgPSBzbjFtMGU7XHJcbiAgICAgICAgICAgIHRoaXMuI2ZTaWQgPSBmc2lkO1xyXG4gICAgICAgICAgICB0aGlzLiNibCA9IGJsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgYXN5bmMgZ2V0QmFyZChiYXJkX3Rva2VuOiBzdHJpbmcsIGJhcmRfdG9rZW5fMjogc3RyaW5nLCBiYXJkX3Rva2VuXzM6IHN0cmluZykge1xyXG4gICAgICAgIGxldCBiYXJkID0gbmV3IERlYnVnQmFyZChiYXJkX3Rva2VuLCBiYXJkX3Rva2VuXzIsIGJhcmRfdG9rZW5fMyk7XHJcbiAgICAgICAgcmV0dXJuIGJhcmQ7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0Q29udmVyc2F0aW9uSWQoY29udmVyc2F0aW9uSUQ6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuI2NvbnZlcnNhdGlvbklEID0gY29udmVyc2F0aW9uSUQ7XHJcbiAgICB9XHJcbiAgICBzZXRSZXNwb25zZUlkKHJlc3BvbnNlSUQ6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuI3Jlc3BvbnNlSUQgPSByZXNwb25zZUlEO1xyXG4gICAgfVxyXG4gICAgc2V0Q2hvaWNlSWQoY2hvaWNlSUQ6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuI2Nob2ljZUlkID0gY2hvaWNlSUQ7XHJcbiAgICB9XHJcbn0iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBQUFBLG1CQUE0Rjs7O0FDQzVGLElBQUFDLG1CQUFxRDs7O0FDQXJELHNCQUE2RDtBQUU3RCxrQkFBNkI7QUFIN0I7QUFPTyxJQUFNLFFBQU4sTUFBVztBQUFBLEVBWWQsWUFBWSxZQUFvQixjQUFzQixjQUFzQjtBQVg1RTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHSSx1QkFBSyxhQUFjO0FBQ25CLHVCQUFLLGVBQWdCO0FBQ3JCLHVCQUFLLGVBQWdCO0FBQ3JCLHVCQUFLLFFBQVMsS0FBSyxNQUFNLEtBQUssT0FBTyxJQUFJLElBQUk7QUFDN0MsdUJBQUssaUJBQWtCO0FBQ3ZCLHVCQUFLLGFBQWM7QUFDbkIsdUJBQUssV0FBWTtBQUFBLEVBQ3JCO0FBQUEsRUFFQSxNQUFNLG1CQUFtQixnQkFBd0I7QUFDN0MsVUFBTSxvQkFBb0I7QUFBQSxNQUN0QixDQUFDLENBQUMsVUFBVSxLQUFLLHdCQUF3QixNQUFNLFNBQVMsQ0FBQztBQUFBLElBQzdEO0FBQ0EsVUFBTSxPQUFPO0FBQUEsTUFDVCxTQUFTLEtBQUssVUFBVSxpQkFBaUI7QUFBQSxNQUN6QyxNQUFNLG1CQUFLO0FBQUEsSUFDZjtBQUVBLFVBQU0sS0FBSyxZQUFZLFFBQVEsMkRBQTJELFVBQVUsTUFBTSxPQUFPO0FBQUEsRUFDckg7QUFBQSxFQUVBLE1BQU0sZ0JBQWdCLGdCQUF3QjtBQUMxQyxVQUFNLG9CQUFvQjtBQUFBLE1BQ3RC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O0FBQUEsRUFFQSxVQUFnQjtBQUNmLFVBQU0sRUFBRSxZQUFZLElBQUk7QUFFeEIsZ0JBQVksTUFBTTtBQUVsQixRQUFJLHlCQUFRLFdBQVcsRUFDckIsUUFBUSxnQkFBZ0IsRUFDeEIsUUFBUSxzQ0FBc0MsRUFDOUMsUUFBUSxVQUFRLEtBQ2YsZUFBZSxpQkFBaUIsRUFDaEMsU0FBUyxLQUFLLE9BQU8sU0FBUyxVQUFVLEVBQ3hDLFNBQVMsT0FBTyxVQUFVO0FBQzFCLFdBQUssT0FBTyxTQUFTLGFBQWE7QUFDbEMsWUFBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLElBQ2hDLENBQUMsQ0FBQztBQUVKLFFBQUksdUJBQXVCLFlBQVksU0FBUyxLQUFLLEVBQUUsTUFBTSxzRUFBc0UsQ0FBQztBQUNwSSxRQUFJLHlCQUFRLG9CQUFvQixFQUM5QixRQUFRLGtCQUFrQixFQUMxQixRQUFRLFVBQVEsS0FDZixlQUFlLGlCQUFpQixFQUNoQyxTQUFTLEtBQUssT0FBTyxTQUFTLFlBQVksRUFDMUMsU0FBUyxPQUFPLFVBQVU7QUFDMUIsV0FBSyxPQUFPLFNBQVMsZUFBZTtBQUNwQyxZQUFNLEtBQUssT0FBTyxhQUFhO0FBQUEsSUFDaEMsQ0FBQyxDQUFDO0FBQ0osUUFBSSx5QkFBUSxvQkFBb0IsRUFDOUIsUUFBUSxrQkFBa0IsRUFDMUIsUUFBUSxVQUFRLEtBQ2YsZUFBZSxpQkFBaUIsRUFDaEMsU0FBUyxLQUFLLE9BQU8sU0FBUyxZQUFZLEVBQzFDLFNBQVMsT0FBTyxVQUFVO0FBQzFCLFdBQUssT0FBTyxTQUFTLGVBQWU7QUFDcEMsWUFBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLElBQ2hDLENBQUMsQ0FBQztBQUFBLEVBVUw7QUFDRDsiLAogICJuYW1lcyI6IFsiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAicXVlcnlzdHJpbmciLCAiX2JhcmRfdG9rZW4iLCAiX2JhcmRfdG9rZW5fMiIsICJfYmFyZF90b2tuZV8zIiwgIl9yZXFpZCIsICJfc25pbTBlIiwgIl9jb252ZXJzYXRpb25JRCIsICJfcmVzcG9uc2VJRCIsICJfY2hvaWNlSWQiLCAiX2ZTaWQiLCAiX2JsIiwgIl9CYXJkIl0KfQo=
